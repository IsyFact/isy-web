name: OSS Review Toolkit
on:
  push:
jobs:
  ort:
    runs-on: ubuntu-latest
    steps:
      - name: Use HTTPS instead of SSH for Git cloning
        run: git config --global url.https://github.com/.insteadOf ssh://git@github.com/
      - name: Checkout project
        uses: actions/checkout@v3
      - name: Show paths
        run: cat "/${{ github.workspace }}/ort-data/vulnerability_report.ftl"
      - name: Download template
        run: curl -o report_template.ftl https://github.com/IsyFact/isy-github-actions-templates/blob/mariusarltmsg-patch-1/ort-config/report_template.ftl
      - name: Run GitHub Action for ORT
        uses: oss-review-toolkit/ort-ci-github-action@v1
        with:
          docker-cli-args:
            -- mount type=bind,source=report_template.ftl,target=/home/ort/templates
          report-formats: WebApp,StaticHtml,HtmlTemplate -O HtmlTemplate=template.path=templates/report_template.ftl
